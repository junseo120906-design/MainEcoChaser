<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EcoChaser</title>
  <link rel="stylesheet" href="css/style.css"/>
  <style>
    /* 필요 시 기존 모드 스타일은 지금은 사용하지 않아도 됨 */
    body.mode-home .hero { display: block; padding-top: 110px;}
    body.mode-home #ranking { display: none; }

    body.mode-ranking .hero { display: none; }
    body.mode-ranking #ranking {
        display: block;
        padding-top: 64px;
        padding-bottom: 80px;
        min-height: calc(100vh - 160px);
    }
    body.mode-ranking .leaderboard { margin-top: 24px; }
    .cta-buttons {
    display: flex;
    gap: 12px;
    flex-wrap: nowrap;          /* 줄바꿈 안 되도록 */
    align-items: center;
    margin-top: 24px;
  }

  .cta-buttons .btn {
    white-space: nowrap;        /* 버튼 글자가 한 줄에 유지되도록 */
  }

  .btn-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 10px 20px;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,0.06);
    background: #f4fbf7;
    color: #1b5e20;
    font-weight: 500;
    font-size: 0.95rem;
  }

  .btn-secondary:hover {
    background: #e2f5eb;
  }
  </style>
</head>
<body>
  <!-- 헤더: 로고 + 지금 플레이하기 버튼 -->
  <nav class="navbar">
    <div class="navbar-container">
      <a href="index.html" class="logo-link">
        <img src="image/Logo.png" alt="EcoChaser Logo" class="logo-img">
      </a>
      <div class="nav-actions">
        <a href="game/index.html" class="btn btn-primary">지금 플레이하기</a>
      </div>
    </div>
  </nav>

  <main class="main-content">
    <!-- 1. 히어로 / 게임 소개 요약 -->
    <section class="hero reveal">
      <div class="hero-grid">
        <div class="hero-left">
          <div class="hero-content">
            <h1 class="hero-title"><img src="image/ecochaser.png" alt="Eco Chaser" class="hero-title-img"></h1>
            <p>
              러너 게임을 즐기며 자연스럽게 <br>지역별 분리배출 규칙을 배워보세요!
            </p>
            <div class="cta-buttons">
              <a href="game/index.html" class="btn btn-primary">지금 플레이하기</a>
              <a href="#ranking-section" class="btn btn-secondary">랭킹 보기</a>
              <a href="#region-stats-section" class="btn btn-secondary">지역별 통계 보기</a>
            </div>
          </div>
        </div>
        <div class="hero-right">
          <div class="carousel">
            <div class="carousel-track">
              <article class="carousel-slide">
                <span class="carousel-label">실시간 경쟁</span>
                <h3>친구들과 순위 대결</h3>
                <p>동네별 포인트를 모아 리더보드 <br>상위권에 도전해 보세요!</p>
                <div class="carousel-meters">
                  <div class="carousel-meter"><span></span></div>
                  <div class="carousel-meter"><span></span></div>
                  <div class="carousel-meter"><span></span></div>
                </div>
              </article>
              <article class="carousel-slide">
                <span class="carousel-label">지역별 통계</span>
                <h3>지역별 통계</h3>
                <p>지역별 통계표를 보며 지역별 분리배출 규칙을 확인해보세요!</p>
                <div class="carousel-meters">
                  <div class="carousel-meter"><span></span></div>
                  <div class="carousel-meter"><span></span></div>
                  <div class="carousel-meter"><span></span></div>
                </div>
              </article>
              <article class="carousel-slide">
                <span class="carousel-label">성장 보상</span>
                <h3>친환경 배지 수집</h3>
                <p>점수를 쌓으면서 다양한 환경 배지를 잠금 해제하세요!</p>
                <div class="carousel-meters">
                  <div class="carousel-meter"><span></span></div>
                  <div class="carousel-meter"><span></span></div>
                  <div class="carousel-meter"><span></span></div>
                </div>
              </article>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 2. 게임 소개 상세 -->
    <section class="game-intro reveal" id="game-intro">
      <div class="intro-header">
        <div class="intro-header-left">
          <h2>"환경을 배우는 새로운 방식"</h2>
        </div>
        <div class="intro-header-right">
          <h3>
            <strong>Eco Chaser</strong>는 외국인 유학생과 기숙사생이 지역별 분리수거 기준을 자연스럽게 익힐 수 있도록 설계된 러너 게임입니다. 환경 인식 개선에 참여하세요!
          </h3>
        </div>
      </div>
      <div class="intro-grid">
        <!-- 1. 행동 변화를 유도하는 실전 학습 경험 -->
        <article class="intro-card intro-card--behavior" data-intro-index="0">
          <h3><span class="intro-card-icon">🌳</span>
            <strong>행동 변화를 유도하는 실전 학습</strong></h3>
          <p class="intro-card-kicker">🌱 생활 속에서 행동을 바꾸게 만드는 실전형 러닝!</p>
        </article>

        <!-- 2. 차별화된 데이터 기반 교육 시스템 -->
        <article class="intro-card intro-card--data" data-intro-index="1">
          <h3><span class="intro-card-icon">🧠</span>
            <strong>차별화된 데이터 기반 교육 시스템</strong></h3>
          <p class="intro-card-kicker">📊 학습 데이터를 기반으로 더 똑똑하게 피드백!</p>
        </article>

        <!-- 3. 몰입도를 높이는 전략적 게임성 -->
        <article class="intro-card intro-card--gameplay" data-intro-index="2">
          <h3><span class="intro-card-icon">🎮</span>
            <strong>몰입도를 높이는 전략적 게임성</strong></h3>
          <p class="intro-card-kicker">🕹️ 게임처럼 재밌지만, 끝까지 남는 건 환경 감수성!</p>
        </article>
      </div>
    </section>

    <!-- Intro detail fullscreen slider overlay -->
    <div id="introDetailOverlay" class="intro-overlay" aria-hidden="true">
      <div class="intro-overlay-backdrop"></div>
      <div class="intro-overlay-dialog" role="dialog" aria-modal="true" aria-labelledby="introOverlayTitle">
        <button type="button" class="intro-overlay-close" aria-label="닫기">✕</button>

        <header class="intro-overlay-header">
          <p class="intro-overlay-eyebrow">환경을 배우는 새로운 방식</p>
          <h2 id="introOverlayTitle" class="intro-overlay-title">행동 변화를 유도하는 실전 학습 경험</h2>
        </header>

        <div class="intro-overlay-slider">
          <button type="button" class="intro-overlay-arrow intro-overlay-arrow--prev" aria-label="이전">‹</button>
          <div class="intro-overlay-viewport">
            <div class="intro-overlay-track">
              <!-- Slide 1: 행동 변화 -->
              <article class="intro-overlay-slide" data-intro-slide="0">
                <h3><span class="intro-card-icon"> 🍃</span><strong>행동 변화를 유도하는 실전 학습 경험</strong></h3>
                <div class="intro-overlay-body">
                  <p>실제 환경 적응을 위한 지역 맞춤형 교육 솔루션</p>
                  <ul>
                    <li><strong>현실 기반 학습</strong> : 외국인 유학생 및 신입생이 실제로 거주하는 지역별 분리수거 규정을 게임 콘텐츠에 반영</li>
                    <li><strong>행동 중심 피드백</strong> : 교과서 학습을 넘어, 즉각적인 피드백으로 지속 가능한 행동 변화 유도</li>
                    <li><strong>글로벌 접근성</strong> : 다국어 번역을 지원하는 직관적인 러너형 게임으로, 누구나 쉽게 환경 규정 익히기</li>
                  </ul>
                </div>
              </article>

              <!-- Slide 2: 데이터 기반 시스템 -->
              <article class="intro-overlay-slide" data-intro-slide="1">
                <h3><span class="intro-card-icon">📈</span><strong>차별화된 데이터 기반 교육 시스템</strong></h3>
                <div class="intro-overlay-body">
                  <p>학습 성과를 정량화하고 지역 사회에 기여하는 데이터 플렛폼</p>
                  <ul>
                    <li><strong>정밀한 성과 분석</strong> : 개인 점수, 랭킹, 오답 데이터를 분석해 취약한 분리수거 항목을 정확히 파악</li>
                    <li><strong>지역별 통계 제공</strong> : 익명화된 데이터를 활용해 지역·학교 단위의 환경 인식 현황을 한눈에 볼 수 있음</li>
                    <li><strong>정책 기여 가능성</strong> : 축적된 통계는 지자체의 외국인·신입생 대상 환경 정책 수립에 참고 자료로 활용가능</li>
                  </ul>
                </div>
              </article>

              <!-- Slide 3: 전략적 게임성 -->
              <article class="intro-overlay-slide" data-intro-slide="2">
                <h3><span class="intro-card-icon">🚀</span><strong>몰입도를 높이는 전략적 게임성</strong></h3>
                <div class="intro-overlay-body">
                  <p>재미와 경쟁을 통해 자발적인 학습 참여를 유도</p>
                  <ul>
                    <li><strong>게이미피케이션 전략</strong> : 현실적인 분리수거 콘텐츠와 러닝 게임을 결합해 학습 흥미와 도전 의식을 높임</li>
                    <li><strong>사회적 동기 부여</strong> : 개인 및 학교 단위 랭킹 시스템으로 경쟁과 성취감을 자극해 자발적인 반복 학습을 유도</li>
                    <li><strong>단순함 속의 깊이</strong> : 간결한 조작 방식에 전략적 선택의 재미를 더해, 계속 게임에 돌아오게 되는 경험을 제공</li>
                  </ul>
                </div>
              </article>
            </div>
          </div>
          <button type="button" class="intro-overlay-arrow intro-overlay-arrow--next" aria-label="다음">›</button>
        </div>

        <div class="intro-overlay-dots" aria-hidden="true">
          <button type="button" class="intro-overlay-dot" data-intro-dot="0"></button>
          <button type="button" class="intro-overlay-dot" data-intro-dot="1"></button>
          <button type="button" class="intro-overlay-dot" data-intro-dot="2"></button>
        </div>
      </div>
    </div>

    <!-- 3. 통합 랭킹 섹션 -->
    <section id="ranking-section" class="leaderboard reveal">
      <h2>통합 랭킹</h2>
      <div class="leaderboard-list">
        <div class="loading">랭킹을 불러오는 중...</div>
      </div>
    </section>

    <!-- 4. 지역별 통계 섹션 -->
    <section id="region-stats-section" class="stats-section reveal">
      <h2>지역별 통계</h2>

      <div class="stats-controls">
        <label for="regionSelect">지역 선택</label>
        <select id="regionSelect">
          <option value="all">전체</option>
          <option value="kr_seoul">서울특별시</option>
          <option value="kr_busan">부산광역시</option>
          <option value="kr_incheon">인천광역시</option>
          <option value="kr_cheonan">천안시</option>
        </select>
      </div>

      <div id="regionStatsSummary" class="stats-summary">
        <p>지역을 선택하면 해당 지역의 플레이 횟수, 평균 점수, 최고·최저 점수와 함께 학습 난이도 통계를 확인할 수 있습니다.</p>
      </div>

      <div class="stats-charts">
        <section class="stats-chart-card" id="regionComparisonChart" aria-label="지역별 평균 실천율 그래프">
          <header class="stats-chart-header">
            <h3>지역별 평균 실천율</h3>
            <p class="stats-chart-subtitle">최근 기록을 바탕으로, 지역별 분리배출 규칙을 얼마나 잘 지키고 있는지(실천율)를 순위로 비교합니다.</p>
          </header>

          <div class="stats-chart-body stats-chart-body--ranking">
            <div class="stats-hbar-list" data-chart="region-ranking">
              <!-- JS에서 수평 막대(순위표)가 동적으로 채워집니다. -->
            </div>
          </div>
          <p class="stats-chart-caption">막대가 길수록 실천율이 높은 지역입니다. 위쪽에 배치된 지역일수록 실천율이 높은 지역입니다.</p>
        </section>

        <section class="stats-chart-card" id="wasteTypeChart" aria-label="분류별 오답률 그래프">
          <header class="stats-chart-header">
            <h3>분리배출 항목별 오답률</h3>
            <p class="stats-chart-subtitle">선택한 지역에서 어떤 분리수거 항목의 정답률이 낮은지, 즉 어떤 쓰레기가 가장 헷갈리는지 보여줍니다.</p>
          </header>
          <div class="stats-chart-body">
            <div class="stats-chart-yaxis">
              <span>100%</span>
              <span>95%</span>
              <span>90%</span>
              <span>85%</span>
              <span>80%</span>
              <span>75%</span>
              <span class="stats-chart-axis-label">오답률(%)</span>
            </div>

            <div class="stats-chart-bars" data-chart="waste-types">
              <!-- JS에서 막대가 동적으로 채워집니다. -->
            </div>
          </div>
          <p class="stats-chart-caption">일반 쓰레기, 음식물 쓰레기, 재활용 항목 중 어떤 부분에서 실수가 많이 일어나는지 확인하여, 지역 맞춤형 안내 포인트를 발견할 수 있습니다.</p>
        </section>
      </div>

      <table class="stats-table">
        <thead>
          <tr>
            <th>지역</th>
            <th>플레이 횟수</th>
            <th>평균 점수</th>
            <th>최고 점수</th>
            <th>최저 점수</th>
          </tr>
        </thead>
        <tbody id="regionStatsTableBody">
          <tr>
            <td colspan="5" style="text-align:center;">데이터를 불러오는 중입니다...</td>
          </tr>
        </tbody>
      </table>
    </section>
  </main>

  <!-- 푸터 -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-section">
        <img src="image/Logo.png" alt="TrashHunter Logo" class="logo-img">
      </div>
      <div class="footer-section">
        <h4>메뉴</h4>
        <ul>
          <li><a href="#ranking-section">랭킹</a></li>
          <li><a href="#region-stats-section">지역별 통계</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>연락처</h4>
        <p>이메일: EcoChaser@jeiu.com</p>
        <div class="social-links">
          <a href="#" class="social-icon">📱</a>
          <a href="#" class="social-icon">📘</a>
          <a href="#" class="social-icon">📸</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Eco Chaser. All rights reserved.</p>
    </div>
  </footer>

  <script src="js/script.js"></script>
</body>
</html>